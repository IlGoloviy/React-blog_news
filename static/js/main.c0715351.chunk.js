(this.webpackJsonpblog_news=this.webpackJsonpblog_news||[]).push([[0],{46:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(16),r=a.n(l),o=a(4),s=a(12),i=a(13),m=function(e){return c.a.createElement("nav",{className:"menu"},c.a.createElement(o.b,{to:"/",className:"menu-logo"},c.a.createElement("img",{src:e.src,alt:"logo"})),c.a.createElement("ul",{className:"menu-items"},e.children),c.a.createElement(o.b,{to:"/login",className:"login"},"login"))},u=function(e){return c.a.createElement("li",{className:e.active?"menu-item menu-active":"menu-item"},c.a.createElement(o.b,{className:"menu-item-link",to:e.href},e.children))},d=function(e){return c.a.createElement("div",{className:"main-page"},c.a.createElement("p",null,c.a.createElement("span",null,"welcome"),c.a.createElement("br",null)," to our site"))},p=function(e){var t=e.post;return c.a.createElement("div",{className:"post-card"},c.a.createElement("a",{href:t.url,target:"_blank",className:"post-card-link"},c.a.createElement("h3",{className:"post-card-desc"},t.title)),c.a.createElement("p",{className:"post-card-text"},t.description))},E=a(41),h=a.n(E);var b=Object(s.b)((function(e){return{news:e.news.news}}))((function(e){if(Object(n.useEffect)((function(){e.news.length||e.dispatch((function(e){e({type:"FETCH_NEWS"}),h.a.get("https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=75944116f4df46cfbb73bb529f4835b3").then((function(t){e({type:"FETCH_NEWS_FULFILLED",payload:t.data})})).catch((function(t){e({type:"FETCH_NEWS_REJECTED",payload:t})}))}))}),[]),console.log(e.news.length),e.news.length){var t=e.news.map((function(e,t){return c.a.createElement(p,{key:t,post:e})}));return c.a.createElement("div",{className:"post-list"},t)}return c.a.createElement("div",{className:"blank-page"},c.a.createElement("div",{className:"spiner"}))})),g=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"desc"},"News",c.a.createElement("button",{className:"btn-add_post"},c.a.createElement(o.b,{to:"/modal",className:"link-add_post"},"add news"))),e.children?e.children:c.a.createElement(b,null))},f=a(18),v=a(19),w=a(21),N=a(20),j=a(11),O=a(22),y=a(8),S=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(w.a)(this,Object(N.a)(t).call(this))).loginAdmin=e.loginAdmin.bind(Object(j.a)(e)),e.state={redirect:!1},e}return Object(O.a)(t,e),Object(v.a)(t,[{key:"loginAdmin",value:function(){var e=window.localStorage.getItem("username"),t=window.localStorage.getItem("password");"admin"!==e&&"12345"!==t&&this.setState({redirect:!0})}},{key:"goRedirect",value:function(){if(this.loginAdmin(),this.state.redirect)return c.a.createElement(y.a,{to:"/login"})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.goRedirect(),c.a.createElement("h1",{className:"desc"},"Profile"),c.a.createElement("div",{className:"profile-content"},c.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2017/12/29/02/15/image-3046593_960_720.png",alt:"blockchain"})))}}]),t}(n.Component);var k=[{path:"/",component:d,exact:!0},{path:"/news",component:g,exact:!0},{path:"/modal",component:Object(s.b)((function(e){return{dispatch:e}}))((function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),E=p[0],h=p[1];return l?c.a.createElement(y.a,{to:"/news"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"desc"},"adding a post"),c.a.createElement("div",{className:"modal-add_post"},c.a.createElement("label",null,c.a.createElement("span",null,"title"),c.a.createElement("input",{className:"modal-input",type:"text",onChange:function(e){u(e.target.value)}})),c.a.createElement("label",null,c.a.createElement("span",null,"text"),c.a.createElement("textarea",{className:"modal-text",cols:"30",rows:"5",onChange:function(e){h(e.target.value)},value:E})),c.a.createElement("button",{onClick:function(){var t={title:m,description:E};e.dispatch({type:"ADD_NEWS",payload:t}),r(!0)}},"create")))})),exact:!0},{path:"/profile",component:S,exact:!0},{path:"/login",component:function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(w.a)(this,Object(N.a)(t).call(this))).handleSubmit=e.handleSubmit.bind(Object(j.a)(e)),e.state={redirect:!1},e}return Object(O.a)(t,e),Object(v.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.elements[0].value,a=e.target.elements[1].value;window.localStorage.setItem("username",t),window.localStorage.setItem("password",a),"admin"===t&&"12345"===a?(console.log("vu avtorizovani v sisteme"),this.setState({redirect:!0,login:"yes"})):(console.log("chto to poshlo ne tak"),this.setState({redirect:!0,login:"no"})),e.target.elements[0].value="",e.target.elements[1].value=""}},{key:"goRedirect",value:function(){return this.state.redirect&&"yes"===this.state.login?c.a.createElement(y.a,{to:"/profile"}):this.state.redirect&&"no"===this.state.login?c.a.createElement("h3",{className:"invalid"},"Invalid login or password"):void 0}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"block-login"},c.a.createElement("form",{className:"form-login",onSubmit:this.handleSubmit},this.goRedirect(),c.a.createElement("input",{type:"text",placeholder:"username"}),c.a.createElement("input",{type:"password",placeholder:"password"}),c.a.createElement("button",{type:"submit"},"Enter"))))}}]),t}(n.Component),exact:!0}],_=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2)[1];function l(e){return window.location.pathname===e}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){a({active:null})}},c.a.createElement(m,{src:"https://i.pravatar.cc/75?img=2"},c.a.createElement(u,{href:"/",active:l("/")},"Main"),c.a.createElement(u,{href:"/news",active:l("/news")},"News"),c.a.createElement(u,{href:"/profile",active:l("/profile")},"Profile"))),c.a.createElement("div",{className:"container"},c.a.createElement(y.d,null,k.map((function(e,t){return c.a.createElement(y.b,Object.assign({key:t},e))})))),c.a.createElement("footer",{className:"footer"},"\xa9 2020 work in wwwest.solutions"))},F=a(9),C=a(42),x=a(43),D=a(44),T=a(45),W=a(15);var I=Object(F.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{news:[],fetching:!1,fetched:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEWS":return Object(W.a)({},e,{fetching:!0});case"FETCH_NEWS_REJECTED":return Object(W.a)({},e,{fetching:!1,error:t.payload});case"FETCH_NEWS_FULFILLED":return Object(W.a)({},e,{fetching:!1,fetched:!0,news:t.payload.articles});case"ADD_NEWS":return Object(W.a)({},e,{news:[t.payload].concat(Object(T.a)(e.news))});default:return e}}}),L=Object(F.a)(D.a,x.a,Object(C.createLogger)()),A=Object(F.d)(I,L);a(72);r.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{store:A},c.a.createElement(o.a,null,c.a.createElement(_,null)))),document.querySelector("#root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.c0715351.chunk.js.map